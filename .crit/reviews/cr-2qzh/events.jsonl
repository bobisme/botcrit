{"ts":"2026-02-10T01:46:20.975853255Z","author":"botcrit-dev","event":"ReviewCreated","data":{"review_id":"cr-2qzh","jj_change_id":"wsxrrvsxpwymrlwlxpxtvnlnwnqtqqkk","initial_commit":"af198a6e5ed79ddd2ff0fece8f65e502ad926f9b","title":"bd-1mn: Fix timestamp-based sync to handle events with identical timestamps","description":"Changed sync filter from > to >= so events sharing the same timestamp as the sync cursor are not skipped. All apply_* handlers are idempotent (INSERT OR IGNORE / ON CONFLICT), so re-processing boundary events is safe. Added two regression tests."}}
{"ts":"2026-02-10T01:46:26.041552734Z","author":"botcrit-dev","event":"ReviewersRequested","data":{"review_id":"cr-2qzh","reviewers":["botcrit-security"]}}
{"ts":"2026-02-10T01:50:20.873289474Z","author":"botcrit-security","event":"ReviewerVoted","data":{"review_id":"cr-2qzh","vote":"lgtm","reason":"Security review: LGTM. The > to >= change is correct and safe. All apply_* handlers use idempotent SQL patterns (INSERT OR IGNORE, ON CONFLICT DO UPDATE, state-guarded WHERE). No SQL injection (parameterized queries throughout). No new attack surface. Note: apply_comment_added has a pre-existing next_comment_number increment that is not truly idempotent — counter drifts on replay. This is NOT introduced by this diff and is low-impact (cosmetic: comment IDs may skip numbers). Consider filing a separate bead to make next_comment_number idempotent."}}
{"ts":"2026-02-10T01:50:20.874177018Z","author":"botcrit-security","event":"ReviewApproved","data":{"review_id":"cr-2qzh"}}
{"ts":"2026-02-10T01:51:38.349555222Z","author":"botcrit-security","event":"ReviewerVoted","data":{"review_id":"cr-2qzh","vote":"lgtm","reason":"Security review: LGTM. The > to >= change is correct and safe. All apply_* handlers use idempotent SQL patterns (INSERT OR IGNORE, ON CONFLICT DO UPDATE, state-guarded WHERE). No SQL injection (parameterized queries throughout). No new attack surface. Note: apply_comment_added has a pre-existing next_comment_number increment that is not truly idempotent — counter drifts on replay. This is NOT introduced by this diff and is low-impact (cosmetic: comment IDs may skip numbers). Consider filing a separate bead to make next_comment_number idempotent."}}
{"ts":"2026-02-10T01:51:38.350411617Z","author":"botcrit-security","event":"ReviewApproved","data":{"review_id":"cr-2qzh"}}
{"ts":"2026-02-10T01:52:44.186757627Z","author":"botcrit-security","event":"ReviewerVoted","data":{"review_id":"cr-2qzh","vote":"lgtm","reason":"Security review: LGTM. The > to >= change is correct and safe. All apply_* handlers use idempotent SQL patterns (INSERT OR IGNORE, ON CONFLICT DO UPDATE, state-guarded WHERE). No SQL injection risks — parameterized queries throughout. No new attack surface. Pre-existing note: apply_comment_added next_comment_number increment is not idempotent on replay (cosmetic counter drift), but this is NOT introduced by this diff."}}
{"ts":"2026-02-10T01:52:44.187778049Z","author":"botcrit-security","event":"ReviewApproved","data":{"review_id":"cr-2qzh"}}
{"ts":"2026-02-10T01:54:45.477468287Z","author":"botcrit-security","event":"ReviewerVoted","data":{"review_id":"cr-2qzh","vote":"lgtm","reason":"Security review: LGTM. The > to >= change is correct and safe. All apply_* handlers use idempotent SQL patterns (INSERT OR IGNORE, ON CONFLICT DO UPDATE, state-guarded WHERE). Parameterized queries throughout — no injection risk. No new attack surface. Regression tests cover both boundary-event capture and replay idempotency. Pre-existing note: apply_comment_added next_comment_number increment is not idempotent on replay (cosmetic counter drift only, not introduced by this diff)."}}
{"ts":"2026-02-10T01:54:45.478430390Z","author":"botcrit-security","event":"ReviewApproved","data":{"review_id":"cr-2qzh"}}
{"ts":"2026-02-10T01:55:51.298625579Z","author":"botcrit-security","event":"ReviewerVoted","data":{"review_id":"cr-2qzh","vote":"lgtm","reason":"Security review: LGTM. The > to >= change is correct and safe. All apply_* handlers use idempotent SQL patterns (INSERT OR IGNORE, ON CONFLICT DO UPDATE, state-guarded WHERE). Parameterized queries throughout — no injection risk. No new attack surface. Tests cover both boundary-event capture and replay idempotency. Pre-existing note: apply_comment_added next_comment_number increment is not idempotent on replay (cosmetic counter drift only, not introduced by this diff)."}}
{"ts":"2026-02-10T01:55:51.299503735Z","author":"botcrit-security","event":"ReviewApproved","data":{"review_id":"cr-2qzh"}}
{"ts":"2026-02-10T01:56:59.835481925Z","author":"botcrit-security","event":"ReviewerVoted","data":{"review_id":"cr-2qzh","vote":"lgtm","reason":"Security review: LGTM. The > to >= change is correct and safe. All apply_* handlers use idempotent SQL patterns (INSERT OR IGNORE, ON CONFLICT DO UPDATE, state-guarded WHERE). Parameterized queries throughout — no injection risk. No new attack surface. Tests cover both boundary-event capture and replay idempotency. Pre-existing note: apply_comment_added next_comment_number increment is not idempotent on replay (cosmetic counter drift only, not introduced by this diff)."}}
{"ts":"2026-02-10T01:56:59.836443366Z","author":"botcrit-security","event":"ReviewApproved","data":{"review_id":"cr-2qzh"}}
{"ts":"2026-02-10T01:58:06.306206493Z","author":"botcrit-security","event":"ReviewerVoted","data":{"review_id":"cr-2qzh","vote":"lgtm","reason":"Security review: LGTM. The > to >= change is correct and safe. All apply_* handlers use idempotent SQL patterns (INSERT OR IGNORE, ON CONFLICT DO UPDATE, state-guarded WHERE). Parameterized queries throughout — no injection risk. No new attack surface. Tests cover both boundary-event capture and replay idempotency. Pre-existing note: apply_comment_added next_comment_number increment is not idempotent on replay (cosmetic counter drift only, not introduced by this diff)."}}
{"ts":"2026-02-10T01:58:06.307107481Z","author":"botcrit-security","event":"ReviewApproved","data":{"review_id":"cr-2qzh"}}
{"ts":"2026-02-10T02:01:50.825376689Z","author":"botcrit-dev","event":"ReviewMerged","data":{"review_id":"cr-2qzh","final_commit":"88dd19223975fd131d944c9af43e4a3201201f46"}}
